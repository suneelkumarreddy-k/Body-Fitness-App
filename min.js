try{function reProgram(){if("undefined"!=typeof Storage)if(localStorage.rpm="true",localStorage.length>1){let e=new Date,t=[],n=!1;for(i=0;i<localStorage.length;i++){let r=localStorage.key(i);if("rpm"!=r){const l=new Date(r);if(l.getTime()<e.getTime()){let e=JSON.parse(localStorage.getItem(r));t.push(e)}l.toLocaleDateString()===e.toLocaleDateString()&&(n=!0)}}if(n)alert("Try Later!");else{t=t.sort((function(e,t){return new Date(e.date).getTime()<new Date(t.date).getTime()?1:-1}));let e=[],n=new Date(t[0].date).getDate();for(i=0;i<t.length;i++){new Date(t[i].date).getDate()==n&&e.push(t[i])}e=e.sort((function(e,t){return new Date(e.date).getTime()<new Date(t.date).getTime()?-1:1})),document.getElementById("rps").value=e[0].reps,document.getElementById("sts").value=e[0].sets,document.getElementById("spn").value=e[0].span,document.getElementById("rst").value=e[0].rest,document.getElementById("wt").value=e[0].workout}}else localStorage.rpm="false"}function ldPgm(){"true"==localStorage.getItem("rpm")&&reProgram()}function pump(){if(Number(document.getElementById("rps").value)>=1&&Number(document.getElementById("sts").value)>=1&&Number(document.getElementById("spn").value)>=1){let e=function e(){var t=prompt("Number from -100 to 100:");return""==t.trim()||isNaN(t.trim())||+t>100||+t<-100?e():t}();if(Number(e)>=1){let t=Number(document.getElementById("rps").value)*Number(e)/100;t+=Number(document.getElementById("rps").value),document.getElementById("rps").value=Math.round(t);let n=Number(document.getElementById("sts").value)*Number(e)/100;n+=Number(document.getElementById("sts").value),document.getElementById("sts").value=Math.round(n);let r=Number(document.getElementById("spn").value)*Number(e)/100;r+=Number(document.getElementById("spn").value),document.getElementById("spn").value=Math.round(r),alert(e+"% Volume Pumped")}else if(Number(e)<=-1){let t=Number(document.getElementById("rps").value);t+=Number(document.getElementById("rps").value)*Number(e)/100,document.getElementById("rps").value=Math.round(t);let n=Number(document.getElementById("sts").value);n+=Number(document.getElementById("sts").value)*Number(e)/100,document.getElementById("sts").value=Math.round(n);let r=Number(document.getElementById("spn").value);r+=Number(document.getElementById("spn").value)*Number(e)/100,document.getElementById("spn").value=Math.round(r),alert(e+"% Volume Dumped")}}}function rstLog(){if("undefined"!=typeof Storage){if(localStorage.length>0){confirm("Clear the Log ?")&&(localStorage.clear(),logRead())}}else alert("Outdated Browser")}function delTbl(){for(var e=document.getElementById("logTbl"),t=e.rows.length-1;t>0;t--)e.deleteRow(t);return e}function logRead(){if("undefined"!=typeof Storage)if(localStorage.length>0){var e=delTbl();let o=(new Date).getDate(),s=[];for(i=0;i<localStorage.length;i++){let a="";if("rpm"!=localStorage.key(i)){a=localStorage.key(i);if(!(new Date(a).getDate()>=o-6))break;{let u=JSON.parse(localStorage.getItem(a));s.push(u)}}}for(s=s.sort((function(e,t){return new Date(e.date).getTime()<new Date(t.date).getTime()?1:-1})),i=0;i<s.length;i++){var t=e.insertRow(i+1),n=t.insertCell(0),r=t.insertCell(1);function l(e){if(!btnRst.disabled&&confirm("Add?")){let t=e.nextElementSibling,n=JSON.parse(localStorage.getItem(t.innerText));document.getElementById("wt").value=n.workout,document.getElementById("rps").value=n.reps,document.getElementById("sts").value=n.sets,document.getElementById("spn").value=n.span,document.getElementById("rst").value=n.rest,alert("Workout Planned"),document.getElementById("sa").scrollIntoView(),navigator.vibrate(200)}}function d(e){if(!btnRst.disabled){let t=e.nextElementSibling;confirm("Remove?")&&(localStorage.removeItem(t.innerText),logRead())}}n.innerText="Workout = "+s[i].workout,n.innerText+=" Â¦Â¦ Reps (n) Sets (n) Span (s) Rest (s) =",n.innerText+=" "+s[i].reps+" "+s[i].sets+" "+s[i].span+" "+s[i].rest,n.innerText+=" Â¦Â¦ Date = "+s[i].date,r.innerText=s[i].date;var m=0;n.addEventListener("click",(function(){let e=this;1===++m?singleClickTimer=setTimeout((function(){m=0,l(e)}),400):2===m&&(clearTimeout(singleClickTimer),m=0,d(e))}),!1),r.style.display="none"}}else delTbl();else alert("Outdated Browser")}function logEntry(){if("undefined"!=typeof Storage){let e=new Date;const t={workout:document.getElementById("wrt").innerText,reps:document.getElementById("reps").innerText,sets:document.getElementById("sets").innerText,span:document.getElementById("span").innerText,rest:document.getElementById("rest").innerText,date:String(e)};let n=JSON.stringify(t);localStorage.setItem(e,n)}else alert("Outdated Browser")}function share(){if(navigator.share){let e="?pattern=";e+=document.getElementById("reps").innerText+"-"+document.getElementById("sets").innerText+"-"+document.getElementById("span").innerText+"-"+document.getElementById("rest").innerText;let t=document.getElementById("wrt").innerText;t=t.trim(),t=t.split(" ").join("-"),e+="&workout="+t,navigator.share({title:"Body Fitness Program App",url:e})}}function urlPrg(){const e=window.location.href;if(e.includes("?pattern=")&&e.includes("&workout=")){var t=window.location.href.match(/\?pattern=(.*)&/),n=window.location.href.match(/\&workout=(.*)/);t=(t=t[1]).split("-"),document.getElementById("rps").value=t[0],document.getElementById("sts").value=t[1],document.getElementById("spn").value=t[2],document.getElementById("rst").value=t[3],n=(n=n[1]).split("-").join(" "),document.getElementById("wt").value=n.length>0?n:""}else ldPgm()}function grtMsg(){var e,t=(new Date).getHours();t<12?e="Good Morning":t>=12&&t<17?e="Good Afternoon":t>=17&&t<=24&&(e="Good Evening"),window.speechSynthesis?(window.speechSynthesis.speak(new SpeechSynthesisUtterance(e)),alert(e)):alert(e)}function shAr(){var e=document.getElementById("wt").value;if(confirm("Randomize Workout Variations ?")&&""!=e.trim()){let t=e.split(","),n="",r=0;for(;t[r];)Number.isInteger(Number(t[r]))?n+="#":n+=t[r]+" ",r++;if(n=n.split("#"),n.pop(),n=Array.isArray(n)&&n.length>0?n.sort((()=>Math.random()-.5)):e,Array.isArray(n)){r=0;let e=[];for(;n[r];)e.push(String(n[r]).trim()),e.push(r+1),r++;document.getElementById("wt").value=e}}else document.getElementById("wt").focus()}function f(e){"wp"==e.id&&""==e.value?window.speechSynthesis.speak(new SpeechSynthesisUtterance("Enter Workout Pattern")):"wt"==e.id&&""==e.value&&window.speechSynthesis.speak(new SpeechSynthesisUtterance("Enter Workout"))}function pgm(){performance.now();var e=document.getElementById("wt").value;e=e.split(",").filter((e=>String(e).trim())),document.getElementById("wrt").innerText=e,document.getElementById("reps").innerText=document.getElementById("rps").value,document.getElementById("sets").innerText=document.getElementById("sts").value,document.getElementById("span").innerText=document.getElementById("spn").value,document.getElementById("rest").innerText=document.getElementById("rst").value;performance.now();let t=Number(document.getElementById("sts").value)*(Number(document.getElementById("spn").value)+Number(document.getElementById("rst").value));document.getElementById("wd").innerText=t,document.getElementById("rem").innerText=0,document.getElementById("per").innerText=" 0%",document.getElementById("exe").innerText="ðŸ˜Ž",document.getElementById("wtrt").value=document.getElementById("wtsn").value=document.getElementById("wsn").innerText=document.getElementById("wkr").innerText=document.getElementById("ws").value=0;window.speechSynthesis.cancel(),window.speechSynthesis.speak(new SpeechSynthesisUtterance("Programmed")),alert("Programmed"),document.getElementById("exe").scrollIntoView()}let e;function start(){let t=document.getElementById("reps").innerText,n=document.getElementById("sets").innerText,r=document.getElementById("span").innerText,l=document.getElementById("rest").innerText,d=n*(Number(r)+Number(l));if(d>=4){window.speechSynthesis.cancel(),document.getElementById("spWt").disabled=!1,document.getElementById("btnPmp").disabled=!0,document.getElementById("btnPrm").disabled=!0,document.getElementById("stWt").disabled=!0,document.getElementById("btnRdm").disabled=!0,document.getElementById("btnRst").disabled=!0,document.getElementById("shre").disabled=!0;let o=0,s=0,a=0;document.getElementById("wtsn").max=r,document.getElementById("wtrt").max=l,document.getElementById("ws").max=d,document.getElementById("wtrt").value=document.getElementById("wtsn").value=0,e=setInterval((function(){if(o==d)stpTkr(),logEntry(),logRead(),window.speechSynthesis.speak(new SpeechSynthesisUtterance("Workout Completed"));else{if(o++,s==r&&u<=r*n&&l>0){if(a++,document.getElementById("wtrt").value=document.getElementById("wkr").innerText=a,a==l&&o!=d){s=0;let e=Array.isArray(g)&&g.length>1?g[i]:Array.isArray(g)&&g.length<=1?g[0]:m;e=null==e?"":e,e+=t>0?" "+t+" Reps":"",window.speechSynthesis.speak(new SpeechSynthesisUtterance(e)),document.getElementById("exe").innerText=(Array.isArray(g)&&g.length>1?g[i]:Array.isArray(g)&&g.length<=1?g[0]:m)+", "+(i+1)}}else if(r*n>0&&(s++,document.getElementById("wtsn").value=document.getElementById("wsn").innerText=s,u++,s==r&&o!=d))if(i++,a=0,l>0){let e=l+" seconds rest";window.speechSynthesis.speak(new SpeechSynthesisUtterance(e)),document.getElementById("exe").innerText=e}else if(l*n<=0){s=0;let e=Array.isArray(g)&&g.length>1?g[i]:Array.isArray(g)&&g.length<=1?g[0]:m;e=null==e?"":e,e+=t>0?" "+t+" Reps":"",window.speechSynthesis.speak(new SpeechSynthesisUtterance(e)),document.getElementById("exe").innerText=(Array.isArray(g)&&g.length>1?g[i]:Array.isArray(g)&&g.length<=1?g[0]:m)+", "+(i+1)}document.getElementById("rem").innerText=d-o,document.getElementById("ws").value=o,document.getElementById("per").innerText=" "+Math.round(o/d*100)+"%"}}),1e3);let u=0,i=0;var m=String(document.getElementById("wrt").innerText).split(",").filter((e=>String(e).trim()));let c=m,g="",y=0;for(;c[y];)Number.isInteger(Number(c[y]))?g+="#":g+=c[y]+" ",y++;g=g.split("#"),g.pop(),g=Array.isArray(g)&&g.length>0?g:m;let p=Array.isArray(g)?"Do "+g[0]:"Do "+g;p+=t>0?" "+t+" Reps":"",window.speechSynthesis.speak(new SpeechSynthesisUtterance(p)),document.getElementById("exe").innerText=(Array.isArray(g)?g[0]:g)+", "+(i+1)}else{navigator.vibrate(200),document.getElementById("sa").scrollIntoView()}}function stop(){document.getElementById("spWt").disabled||(stpTkr(),window.speechSynthesis.speak(new SpeechSynthesisUtterance("Workout Stopped")))}function stpTkr(){clearInterval(e),document.getElementById("btnPrm").disabled=!1,document.getElementById("spWt").disabled=!0,document.getElementById("stWt").disabled=!1,document.getElementById("btnRdm").disabled=!1,document.getElementById("btnPmp").disabled=!1,document.getElementById("btnRst").disabled=!1,document.getElementById("shre").disabled=!1}logRead(),urlPrg(),grtMsg()}catch(t){alert(t.message)}
